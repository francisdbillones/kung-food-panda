<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Admin Console · Atelier du Flavour</title>
  <link rel="stylesheet" href="assets/style.css">
  <script src="assets/session.js" defer></script>
  <script src="assets/admin.js" defer></script>
</head>
<body>
  <header>
    <div class="navbar">
      <div class="logo">
        <img class="logo-mark" src="assets/logo.svg" alt="Atelier du Flavour logo">
      </div>
      <nav>
        <a href="customer-dashboard.html" data-visible-roles="customer">Customer Dashboard</a>
        <a href="customer-account.html" data-visible-roles="customer">Account</a>
        <a href="customer-order.html" data-visible-roles="customer">Make Order</a>
        <a href="customer-subscribe.html" data-visible-roles="customer">Subscriptions</a>
        <a href="farmer-console.html" data-visible-roles="farmer">Farmer Console</a>
        <a class="active" href="admin-console.html" data-visible-roles="admin">Admin Console</a>
        <a href="login.html" data-visible-roles="guest">Log in</a>
        <button type="button" class="link-button" data-logout data-visible-roles="customer,farmer,admin">Log out</button>
        <span class="user-label" data-user-label></span>
      </nav>
    </div>
  </header>

  <main>
    <section class="card admin-hero">
      <div class="hero-layout">
        <div>
          <h1>Administration control center</h1>
          <p class="subtitle">Monitor the health of every dataset, jump to the right table instantly, and act on issues without leaving this console.</p>
          <div class="hero-meta">
            <div>
              <span class="badge">Live data</span>
              <p class="muted-text">All widgets stay in sync with the latest database snapshot.</p>
            </div>
            <small>Composite IDs use the format <code>value1:value2</code>. Example: Farm Product key is <code>product_id:farm_id</code>.</small>
          </div>
        </div>
        <div class="quick-actions" style="justify-content:flex-end;">
          <button class="button" type="button" data-refresh-admin>Refresh data</button>
          <a class="button outline" href="login.html#admin">Switch credential</a>
        </div>
      </div>
      <div class="form-feedback" data-admin-alert role="alert"></div>
    </section>

    <section class="grid dashboard-grid" data-admin-insights>
      <!-- Populated by admin.js -->
    </section>

    <section class="card entity-toolbar">
      <div class="entity-toolbar__row">
        <div>
          <h2>Data explorer</h2>
          <p class="subtitle">Search for a table, skim its quick facts, or jump directly via the shortcuts.</p>
        </div>
        <div class="entity-toolbar__actions">
          <button class="button tertiary" type="button" data-expand-entities>Expand all</button>
          <button class="button tertiary" type="button" data-collapse-entities>Collapse all</button>
        </div>
      </div>
      <div class="entity-toolbar__controls">
        <label class="chip-input">
          <span class="chip-input__label">Universal search</span>
          <input type="search" placeholder="Search by table name, column, or keyword…" data-entity-filter-input>
        </label>
        <div class="entity-nav" data-entity-nav></div>
        <small class="muted-text">Select a table to focus on its records. Click again to return to the full view.</small>
      </div>
    </section>

    <section class="card search-results" data-entity-search-results hidden>
      <div class="search-results__header">
        <div>
          <h3>Universal search</h3>
          <p class="subtitle">Tables, columns, and matching rows show up here. Click a result to jump to the right spot.</p>
        </div>
        <span class="badge" data-search-results-count>0 matches</span>
      </div>
      <ul class="search-results__list" data-entity-search-list></ul>
    </section>

    <section class="grid" data-admin-sections></section>
  </main>
</body>
</html>
